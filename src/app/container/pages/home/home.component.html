<ng-template #insideImage let-data="image">
    <ng-container *ngFor="let item of data">
        <img [src]="item.image" class="img-thumbnail mx-2" [alt]="item.title" style="height: 200px; width: 200px;">
    </ng-container>
</ng-template>

<ng-template #team let-data="image">
    <ng-container *ngFor="let item of data">
       <div class="col-md-3">
        <img [src]="item.profile" class="imageWidth" [alt]="item.name">
        <h4 class="font-weight-bold">{{item.name}}</h4>
        <span class="text-nowrap fontSmall">{{item?.designation}}</span>
       </div>
    </ng-container>
</ng-template>

<ng-template #home let-value="item">
    <ng-container [ngSwitch]="value.id">
        <ng-container *ngSwitchCase="'1'">
            <div class="row mx-2 backGroundColor textColor align-item-center">
                <div class="col-md-6 m-auto">
                    <h2 class="text-center">{{value.title}}</h2>
                    <p class="text-center" [innerHtml]="value.subTitle | safeHtml : -1"></p>
                </div>
                <div class="col-md-6 backGroundImageBanner" [ngStyle]="{'background-image': 'url(' + ( value.banner) + ')'}"></div>
            </div>
        </ng-container>
    </ng-container>

    <ng-container [ngSwitch]="value.id">
        <ng-container *ngSwitchCase="'2'">
            <div class="row mx-2">
                <div class="col-md-5">
                    <h2 class="defaultColor">{{value.title}}</h2>
                    <p [innerHtml]="value.subTitle | safeHtml : 500"></p>
                    <div class="mt-3">
                        <app-button buttonText="{{value.linkTitle}}" routerLink="/about-us"></app-button>
                    </div>
                </div>
                <div class="col-md-6 m-3 p-0">
                    <div>
                        <img [src]="value.banner" class="img-fluid imageHover imageBorder borderRadius" alt="...">
                    </div>
                </div>
            </div>
        </ng-container>
    </ng-container>

    <ng-container [ngSwitch]="value.id">
        <ng-container *ngSwitchCase="'3'">
            <div class="row justify-content-center">
                <div class="col-md-10 m-2 p-2 shadow">
                    <img [src]="value.banner" class="img-fluid" alt="...">
                </div>
            </div>
        </ng-container>
    </ng-container>

    <ng-container [ngSwitch]="value.id">
        <ng-container *ngSwitchCase="'4'">
            <div class="row justify-content-center mx-2">
                <div class="col-md-10 m-2 p-2">
                    <h2 class="defaultColor text-center">{{value.title}}</h2>
                    <p class="mx-2 px-2">{{value.subTitle}}</p>
                    <div class="row justify-content-center align-item-center overflow-hidden imageContainer flex-nowrap">
                        <ng-container *ngTemplateOutlet="insideImage ; context:{image : value.data}"></ng-container>
                    </div>
                    <div class="d-flex justify-content-center m-2">
                        <app-button buttonText="{{value.linkTitle}}" routerLink="/our-partners"></app-button>
                    </div>
                </div>
            </div>
        </ng-container>
    </ng-container>

    <ng-container [ngSwitch]="value.id">
        <ng-container *ngSwitchCase="'5'">
            <div class="row justify-content-center mx-2">
                <div class="col-md-10 m-2 p-2">
                    <h2 class="defaultColor text-center">{{value.title}}</h2>
                    <div class="row justify-content-center align-item-center">
                        <ng-container *ngFor="let dashboardCard of otherDataRequiredInHome.category.data">
                            <div class="col-md-3" [ngStyle]="{'background-image': 'url(' + ( dashboardCard.image) + ')'}" *ngIf="['4','5','6','7'].includes(dashboardCard.id)">
                                <h5 class="text-white">{{dashboardCard.name + dashboardCard.id}}</h5>
                            </div>
                        </ng-container>
                    </div>
                    <div class="d-flex justify-content-center m-2">
                        <app-button buttonText="Explore" routerLink="/dashboard"></app-button>
                    </div>
                </div>
            </div>
        </ng-container>
    </ng-container>

    <ng-container [ngSwitch]="value.id">
        <ng-container *ngSwitchCase="'6'">
            <div class="row justify-content-center mx-2">
                <div class="col-md-10 m-2 p-2">
                    <h2 class="defaultColor text-center">{{value.title}}</h2>
                    <div class="row justify-content-center align-item-center">
                        <ng-container *ngFor="let impactStory of otherDataRequiredInHome.impactStory.data">
                            <div class="card col-md-4 m-2 p-0 defaultBackGroundColor imageBorder" *ngIf="[1,2,3].includes(impactStory.ranking)" >
                                <img class="card-img-top impactStoryImageBorder" [src]="impactStory.banner" [alt]="impactStory.title">
                                <div class="card-body text-white">
                                  <h5 class="card-title font-weight-bold">{{impactStory.title}}</h5>
                                  <p class="card-text" [innerHtml]="impactStory.description | safeHtml : 400"></p>
                                </div>
                                <div class="text-center m-2">
                                  <small class="text-muted text-white">
                                    <app-button buttonText="Read More" buttonColor="#47d985" [routerLink]="['/impact-stories', {id:impactStory.id}]"></app-button>
                                </small>
                                </div>
                              </div>
                        </ng-container>
                    </div>
                    <div class="d-flex justify-content-center m-3">
                        <app-button buttonText="View All" routerLink="/impact-stories"></app-button>
                    </div>
                </div>
            </div>
        </ng-container>
    </ng-container>

    <ng-container [ngSwitch]="value.id">
        <ng-container *ngSwitchCase="'7'">
            <div class="row justify-content-center mx-2">
                <div class="col-md-10 m-2 p-2">
                    <h2 class="defaultColor text-center">{{value.title}}</h2>
                    <p class="mx-2">{{value.subTitle}}</p>
                    <div class="d-flex justify-content-end m-2">
                        <span (click)="forwardImage(value)" class="defaultBackGroundColor iconRadius mx-2"><mat-icon class="text-white">keyboard_arrow_left</mat-icon></span>
                        <span (click)="backImage(value)" class="defaultBackGroundColor iconRadius mx-2"><mat-icon class="text-white">keyboard_arrow_right</mat-icon></span>
                    </div>
                    <div class="row justify-content-center align-item-center overflow-hidden imageContainer">
                        <ng-container *ngTemplateOutlet="team ; context:{image : value.data.slice(start,end)}"></ng-container>
                    </div>
                </div>
            </div>
        </ng-container>
    </ng-container>
</ng-template>

<ng-container *ngFor="let item of otherDataRequiredInHome.cms.data">
    <ng-container *ngTemplateOutlet="home ; context:{item : item}"></ng-container>
</ng-container>

